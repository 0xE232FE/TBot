@model TBot.WebUI.Models.InstanceListModel

<script type="text/javascript">

    function onIframeLoad() {
        console.log("Iframe loaded");
        hideLoading();
    }

    function onInstanceSelected(e) {
        console.log(e);
        showLoading();
        $("#instanceFrame").attr("src", e.target.value);
    }
</script>
<div id="instancesWrapper" style="margin-top:-20px;">
    <label for="instance" style="font-size:7pt;">Instance:</label>
    <select class="form-select" name="instance" id="instance" onchange="onInstanceSelected(event)" style="max-width:500px;margin-bottom:10px;">
        @foreach (var instance in Model.Instances)
        {
            <option value="@instance.OgameUrl">@instance.Alias</option>
        }
    </select>
</div>
<iframe id="instanceFrame" src="" style="width:100%; height:100vh" onload="onIframeLoad()">
</iframe>

<script type="text/javascript">
    showLoading();
    $("#instanceFrame").attr("src", $("#instance").val());
</script>
